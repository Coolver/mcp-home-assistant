# ğŸ¨ Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ: ĞšÑƒĞ´Ğ° Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾ĞºĞµĞ½

## ğŸ“ Ğ“Ğ”Ğ• Ğ’Ğ—Ğ¯Ğ¢Ğ¬ Ğ¢ĞĞšĞ•Ğ (NPM)

### 1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ NPM

```
https://www.npmjs.com/settings/coolver/tokens
          â””â”€â”€ Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ğ½Ğ° Ğ²Ğ°Ñˆ username
```

### 2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ‚Ğ¾ĞºĞµĞ½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NPM Settings - Access Tokens       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  [Generate New Token â–¼]             â”‚
â”‚                                     â”‚
â”‚  Type: âšª Classic Token             â”‚
â”‚        âšª Granular Access Token     â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Automation         [SELECT]â”‚ â† âœ… Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑÑ‚Ğ¾!
â”‚  â”‚ Publish                    â”‚     â”‚
â”‚  â”‚ Read-only                  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚
â”‚  [Generate Token]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ‚Ğ¾ĞºĞµĞ½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Token Created Successfully!        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  npm_1a2b3c4d5e6f7g8h9i0j1k2l3m4n  â”‚
â”‚                                     â”‚
â”‚  âš ï¸  This token will only be shown  â”‚
â”‚     once. Copy it now!              â”‚
â”‚                                     â”‚
â”‚  [Copy Token]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“ Ğ¡ĞšĞĞŸĞ˜Ğ ĞĞ’ĞĞ›Ğ˜? âœ…
```

---

## ğŸ“ ĞšĞ£Ğ”Ğ Ğ”ĞĞ‘ĞĞ’Ğ˜Ğ¢Ğ¬ Ğ¢ĞĞšĞ•Ğ (GitHub)

### 1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Secrets

```
https://github.com/Coolver/mcp-home-assistant/settings/secrets/actions
                    â””â”€â”€ Ğ²Ğ°Ñˆ username â””â”€â”€ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞ¿Ğ¾
```

### 2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Secret

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub - Actions secrets                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  Actions secrets for mcp-home-assistant         â”‚
â”‚                                                 â”‚
â”‚  [New repository secret]  â† ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ             â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Name *                                    â”‚ â”‚
â”‚  â”‚ NPM_TOKEN          â† Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ñ‚Ğ°Ğº   â”‚ â”‚
â”‚  â”‚                                           â”‚ â”‚
â”‚  â”‚ Secret *                                  â”‚ â”‚
â”‚  â”‚ npm_1a2b3c4d5e6f7g8h9i0j1k2l3m4n        â”‚ â”‚
â”‚  â”‚                    â† Ğ’ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ²Ğ°Ñˆ Ñ‚Ğ¾ĞºĞµĞ½   â”‚ â”‚
â”‚  â”‚                                           â”‚ â”‚
â”‚  â”‚ [Add secret]                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Repository secrets                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Name          Updated               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚  NPM_TOKEN     now              âœ…   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— ĞšĞ°Ğº Ğ¾Ğ½Ğ¸ ÑĞ²ÑĞ·Ğ°Ğ½Ñ‹:

```
publish.yml (workflow)
    â†“
    env:
      NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
                              â””â”€â”€ Ğ±ĞµÑ€ĞµÑ‚ Ğ¾Ñ‚ÑÑĞ´Ğ°
                              
GitHub Secrets
    â†“
    NPM_TOKEN = npm_abc123...
    
NPM Registry
    â†“
    ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½ Ğ¸ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºÑƒĞµÑ‚ Ğ¿Ğ°ĞºĞµÑ‚
```

---

## ğŸ§ª ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ»Ğ¸:

### ĞŸĞ¾ÑĞ»Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ:

```bash
# 1. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ²ĞµÑ€ÑĞ¸Ñ
npm version patch

# 2. Push Ñ‚ĞµĞ³Ğ°
git push --tags

# 3. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Actions
# https://github.com/Coolver/mcp-home-assistant/actions

# 4. Ğ£Ğ²Ğ¸Ğ´Ğ¸Ñ‚Ğµ:
```

```
Actions

ğŸŸ¡ Publish to NPM
   v1.0.1
   Running... 
   
   â†“ (Ñ‡ĞµÑ€ĞµĞ· 1-2 Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹)
   
âœ… Publish to NPM
   v1.0.1
   Success - All jobs completed
```

### Ğ•ÑĞ»Ğ¸ Ğ²ÑÑ‘ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:

ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ: https://www.npmjs.com/package/@coolver/mcp-home-assistant

Ğ£Ğ²Ğ¸Ğ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ²ÑƒÑ Ğ²ĞµÑ€ÑĞ¸Ñ: **1.0.1** âœ…

---

## âš ï¸ Ğ§Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ğ¾Ğ¹Ñ‚Ğ¸ Ğ½Ğµ Ñ‚Ğ°Ğº:

### 1. "NPM_TOKEN not found"

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Ğ¢Ğ¾ĞºĞµĞ½ Ğ½Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ğ¸Ğ»Ğ¸ Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¸Ğ¼Ñ

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** 
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¸Ğ¼Ñ: Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ **Ñ‚Ğ¾Ñ‡Ğ½Ğ¾** `NPM_TOKEN`
- ĞŸĞµÑ€ĞµÑĞ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Secret Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ¸Ğ¼ĞµĞ½ĞµĞ¼

### 2. "403 Forbidden"

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Ğ¢Ğ¾ĞºĞµĞ½ Ğ½Ğµ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ¿Ñ€Ğ°Ğ² Ğ½Ğ° Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½ Ñ‚Ğ¸Ğ¿Ğ° **Automation**
- ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ `NPM_TOKEN` Ğ² GitHub Secrets

### 3. "402 Payment Required"

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Ğ—Ğ°Ğ±Ñ‹Ğ»Ğ¸ `--access public` (ÑƒĞ¶Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ² workflow!)

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** ĞĞ¸Ñ‡ĞµĞ³Ğ¾, ÑƒĞ¶Ğµ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ² `publish.yml`

### 4. Workflow Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Actions Ğ½Ğµ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
- https://github.com/Coolver/mcp-home-assistant/settings/actions
- Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ "Allow all actions"

---

## ğŸ¯ ĞšÑ€Ğ°Ñ‚ĞºĞ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ (TL;DR):

```bash
# 1. NPM: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Automation Token
#    https://www.npmjs.com/settings/coolver/tokens

# 2. GitHub: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Secrets
#    https://github.com/Coolver/mcp-home-assistant/settings/secrets/actions
#    Name: NPM_TOKEN
#    Value: Ğ²Ğ°Ñˆ Ñ‚Ğ¾ĞºĞµĞ½

# 3. ĞŸĞµÑ€Ğ²Ğ°Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ):
npm login
npm publish --access public

# 4. Ğ¢ĞµÑÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸:
npm version patch
git push --tags
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Release Ğ½Ğ° GitHub
# â†’ GitHub Actions Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºÑƒĞµÑ‚!
```

---

## ğŸ‰ ĞŸĞ¾ÑĞ»Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸:

**Ğ’Ğ°Ğ¼ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾:**
- âŒ Ğ’Ñ€ÑƒÑ‡Ğ½ÑƒÑ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°Ñ‚ÑŒ: `npm run build`
- âŒ Ğ’Ñ€ÑƒÑ‡Ğ½ÑƒÑ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ñ‚ÑŒ: `npm publish`
- âŒ ĞŸĞ¾Ğ¼Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

**ĞŸÑ€Ğ¾ÑÑ‚Ğ¾:**
1. âœ… ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ²ĞµÑ€ÑĞ¸Ñ: `npm version patch`
2. âœ… Push Ñ‚ĞµĞ³Ğ°: `git push --tags`
3. âœ… Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Release Ğ½Ğ° GitHub

**GitHub Actions ÑĞ´ĞµĞ»Ğ°ĞµÑ‚ Ğ²ÑÑ‘ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ!** ğŸš€

---

## ğŸ“ ĞÑƒĞ¶Ğ½Ğ° Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ?

- **NPM Documentation:** https://docs.npmjs.com/creating-and-viewing-access-tokens
- **GitHub Actions:** https://docs.github.com/en/actions
- **Token types:** https://docs.npmjs.com/about-access-tokens

**Your Actions:** https://github.com/Coolver/mcp-home-assistant/actions  
**Your NPM:** https://www.npmjs.com/package/@coolver/mcp-home-assistant

